(this["webpackJsonplicense-project"]=this["webpackJsonplicense-project"]||[]).push([[0],{15:function(e,t,c){e.exports={titleTablelicense:"Panel_titleTablelicense__XzsBj",buttonFile:"Panel_buttonFile__VkGaO",containerButtonCSV:"Panel_containerButtonCSV__2pj19",csvButton:"Panel_csvButton__ZzE-C","circle-handle-back-login":"Panel_circle-handle-back-login__1AZlZ","angle-bracket-1":"Panel_angle-bracket-1__15zSO","circle-handle-table-refused":"Panel_circle-handle-table-refused__r1SRa",lineLeft:"Panel_lineLeft__2cDd2",lineRight:"Panel_lineRight__1ClTQ",modalLicenseRefused:"Panel_modalLicenseRefused__1yQtp",modalAlert:"Panel_modalAlert__1RnMf",open:"Panel_open__2ow_F",closed:"Panel_closed__1Tmu8",closedModalAlert:"Panel_closedModalAlert__3KTlQ"}},32:function(e,t,c){e.exports={backdrop:"Modal_backdrop__2FEZ0",modal:"Modal_modal__3Y7kB","modal-alert":"Modal_modal-alert__3VSNe",buttonModal:"Modal_buttonModal__3scAH"}},35:function(e,t,c){e.exports={containerDropdown:"Dropdownlist_containerDropdown__2F2Up",dropDownStyle:"Dropdownlist_dropDownStyle__2CImg",styleButtonDropDownlist:"Dropdownlist_styleButtonDropDownlist__3Lwh5"}},47:function(e,t,c){e.exports={containerCard:"CardLogin_containerCard__e5YSA",containerInput:"CardLogin_containerInput__QDIjv"}},49:function(e,t,c){e.exports={tableContainer:"TableLicense_tableContainer__2o55y",tableStyle:"TableLicense_tableStyle__2a4Z1",titleTable:"TableLicense_titleTable__NgTB3"}},50:function(e,t,c){e.exports={tableContainer:"Tabledevices_tableContainer__xA--Y",tableStyle:"Tabledevices_tableStyle__3MupK",titleTable:"Tabledevices_titleTable__3o3Ri",emptyContent:"Tabledevices_emptyContent__NulVm"}},54:function(e,t,c){e.exports={containerWelcome:"Welcome_containerWelcome__3yptG"}},55:function(e,t,c){e.exports={container:"ContainerPanel_container__3-E6A"}},57:function(e,t,c){e.exports={tableContainer:"TableLicensesRefused_tableContainer__MVCZa",tableStyle:"TableLicensesRefused_tableStyle__YgKmx",titleTable:"TableLicensesRefused_titleTable__1wcy5",emptyContent:"TableLicensesRefused_emptyContent__2qiNT"}},67:function(e,t,c){},80:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),s=c(25),a=c.n(s),l=(c(67),c(58)),d=c(7),r=c(9),o="No data!",b="Historical Licenses Refused",j=c(47),u=c.n(j),v=c(2),O=function(e){var t=Object(n.useState)(),c=Object(d.a)(t,2),i=c[0],s=c[1],a=Object(r.g)();return Object(v.jsxs)("div",{className:u.a.containerCard,children:[Object(v.jsx)("h1",{children:"Welcome to the Licenses' Panel"}),Object(v.jsxs)("div",{className:u.a.containerInput,children:[Object(v.jsx)("label",{children:"Username:"}),Object(v.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value;s(t)}})]}),Object(v.jsx)("button",{onClick:function(){a.push("/panel"),e.getUsername(i)},children:"Enter"})]})},x=c(54),p=c.n(x),h=function(e){return Object(v.jsx)("div",{className:p.a.containerWelcome,children:Object(v.jsx)(O,{getUsername:e.getUsername})})},_=c(22),f=c.n(_),m=c(55),D=c.n(m),g=function(e){return Object(v.jsx)("div",{className:D.a.container,children:e.children})},S=c(56),y=c(16),N=c(42),C={apiKey:"AIzaSyDZO6G6c4uBD5flXZ6vu8lkEDgs35ge-6k",authDomain:"licenses-project.firebaseapp.com",databaseURL:"https://licenses-project-default-rtdb.europe-west1.firebasedatabase.app",projectId:"licenses-project",storageBucket:"licenses-project.appspot.com",messagingSenderId:"425639397392",appId:"1:425639397392:web:408b0df0e69f9bbe31e295",measurementId:"G-MVLYTDNPDF"},P=c(12),L=function(e){var t=Object(N.a)(C),c=Object(P.a)(t),n=Object(P.c)(c,"licenses/");return Object(P.b)(n,(function(t){var c=f.a.orderBy(t.val(),"license.os","asc");e(c),console.log("licenses retrieved from Db.")})),null},k=function(e){var t=Object(P.a)(),c=Object(P.c)(t,"devices/");try{Object(P.b)(c,(function(t){var c=t.val();e(c),console.log("Devices retrieved from Db.")}))}catch(n){console.error(n)}},T={0:{device:{idDevice:"device0",osDevice:"windows",osVersion:"10",status:"pending",licensePaired:"N/D",licenseSelected:"N/D"}},1:{device:{idDevice:"device1",osDevice:"android",osVersion:"9",status:"pending",licensePaired:"N/D",licenseSelected:"N/D"}},2:{device:{idDevice:"device2",osDevice:"iOS",osVersion:"8",status:"pending",licensePaired:"N/D",licenseSelected:"N/D"}},3:{device:{idDevice:"device3",osDevice:"android",osVersion:"11",status:"pending",licensePaired:"N/D",licenseSelected:"N/D"}},4:{device:{idDevice:"device4",osDevice:"android",osVersion:"11",status:"pending",licensePaired:"N/D",licenseSelected:"N/D"}},5:{device:{idDevice:"device5",osDevice:"android",osVersion:"11",status:"pending",licensePaired:"N/D",licenseSelected:"N/D"}}},w=function(e){var t=e.target,c=t.files[0],n=new FileReader,i={};void 0!==c&&n.readAsText(t&&c),n.onload=function(e){var t=e.target.result.split("\r\n").map((function(e){return e.split(";")})),c=Object(y.a)(t),n=Object(S.a)(c);n[0];n.slice(1).forEach((function(e,t,c){var n={license:{licenseId:"",expireDate:"",os:"",index:t,disable:!1}};i["".concat(t)]=n,e.forEach((function(e,t,c){n.license.licenseId=c[0],n.license.expireDate=M(c[1]),n.license.os=c[2]}))})),setTimeout((function(){return function(e){var t=Object(N.a)(C),c=Object(P.a)(t);Object(P.d)(Object(P.c)(c,"licenses/"),e)}(i)}),3e3),setTimeout((function(){return function(e){var t=Object(N.a)(C),c=Object(P.a)(t);Object(P.d)(Object(P.c)(c,"devices/"),e),console.log("New liscense setted up to Db!")}(T)}),2e3)}},M=function(e){var t=e.substring(0,4),c=e.substring(4,6),n=e.substring(6,8),i=e.substring(8,12);return n+"/"+c+"/"+t+", "+i.substring(0,2)+":"+i.substring(2,4)},A=c(35),I=c.n(A),V=function(e){var t=e.licenseId,c=e.expireDate,i=e.index,s=e.devices,a=e.osLicense,l=Object(n.useRef)(null),r=Object(n.useState)(),o=Object(d.a)(r,2),b=o[0],j=o[1],u=Object(n.useState)(),O=Object(d.a)(u,2),x=O[0],p=O[1],h=s&&s.filter((function(e){return e.device.idDevice===x&&e.device}));return Object(v.jsxs)("div",{className:I.a.containerDropdown,children:[Object(v.jsxs)("select",{className:I.a.dropDownStyle,ref:l,"data-index":i,"data-licenseid":t,"data-expiredate":c,disabled:e.disable,onChange:function(e){return p(e.target.value)},children:[Object(v.jsx)("option",{children:"select"}),s&&s.map((function(e,t){return Object(v.jsx)("option",{children:e.device.idDevice},t)}))]}),Object(v.jsx)("select",{className:I.a.dropDownStyle,disabled:e.disable,onChange:function(e){return j(e.target.value)},children:["select","pair","eject"].map((function(e,t){return Object(v.jsx)("option",{children:e},t)}))}),Object(v.jsx)("button",{className:I.a.styleButtonDropDownlist,disabled:e.disable,onClick:function(){if("select"!==x&&"select"!==b&&void 0!==x&&void 0!==b&&a===h[0].device.osDevice){var t=!0!==f.a.isEmpty(h)&&h[0].device.status,c=l.current.getAttribute("data-index"),n=l.current.getAttribute("data-licenseid"),i=l.current.getAttribute("data-expiredate");if("pending"===t)!function(e){var t="",c="",n=Object(P.a)();"device0"===e.device?(t=0,c="device0"):"device1"===e.device?(t=1,c="device1"):"device2"===e.device?(t=2,c="device2"):"device3"===e.device?(t=3,c="device3"):"device4"===e.device?(t=4,c="device4"):"device5"===e.device&&(t=5,c="device5");var i={},s={},a={},l={};try{("select"!==e.pairSelect&&void 0!==e.pairSelect||"select"!==e.device&&void 0!==e.device)&&(i["/devices/".concat(t,"/device/status")]=e.pairSelect,s["/licenses/".concat(e.index,"/license/disable")]=!0,a["/devices/".concat(t,"/device/licenseSelected")]=e.licenseId,l["/devices/".concat(t,"/device/licensePaired")]=e.expiredate+", "+c,Object(P.e)(Object(P.c)(n),i),Object(P.e)(Object(P.c)(n),s),Object(P.e)(Object(P.c)(n),a),Object(P.e)(Object(P.c)(n),l))}catch(d){console.error(d)}}({device:x,pairSelect:b,index:c,licenseId:n,expiredate:i});else{var s={key1:"selected",textSelected:"sorry this device cannot register a license at this time!",title:"alert"};e.handlerModalAlert(s)}}else{var d={key2:"no-selection",textCombine:"Actions no permited : select devices with different license OS, choose only one selection of available options or No selection.",title:"Alert"};e.handlerModalAlert(d)}},children:"Submit"})]})},R=function(e){var t=e.disable,c=e.expireDate,n=e.licenseId,i=e.operativeSystem,s=e.index,a=e.devices;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:n}),Object(v.jsx)("td",{children:c}),Object(v.jsx)("td",{children:i}),Object(v.jsxs)("td",{children:[" ",Object(v.jsx)(V,{expireDate:c,licenseId:n,index:s,disable:t,devices:a,handlerModalAlert:e.handlerModalAlert,osLicense:i})]})]})},B=function(e){var t=e.th,c=e.td,n=e.title,i=e.styles;return Object(v.jsxs)("div",{className:i.tableContainer,children:[Object(v.jsx)("h1",{className:i.titleTable,children:n}),Object(v.jsxs)("table",{className:i.tableStyle,children:[Object(v.jsx)("thead",{children:Object(v.jsx)("tr",{children:t},"tr-table-data")},"thead-table-data"),Object(v.jsx)("tbody",{children:c},"tbody-key")]},"table-data")]})},E=c(49),F=c.n(E),U=function(e){var t=e.licenses,c=e.devices;return Object(v.jsx)(v.Fragment,{children:t?Object(v.jsx)(B,{styles:F.a,title:"Licenses",th:["License Id","Expire Date","Operative System","Pair Device"].map((function(e,t){return Object(v.jsx)("th",{children:e},t)})),td:t.map((function(t,n){return Object(v.jsx)(R,{devices:c,index:t.license.index,disable:t.license.disable,expireDate:t.license.expireDate,licenseId:t.license.licenseId,operativeSystem:t.license.os,handlerModalAlert:e.handlerModalAlert},n.toString())}))}):Object(v.jsx)("div",{className:F.a.emptyContent,children:Object(v.jsx)("label",{children:o})})})},Z=function(e){var t=e.idDevice,c=e.osDevice,n=e.osVersion,i=e.status,s=e.licensePaired,a=e.licenseSelected;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:t}),Object(v.jsx)("td",{children:c}),Object(v.jsx)("td",{children:n}),Object(v.jsx)("td",{children:i}),Object(v.jsx)("td",{children:s}),Object(v.jsx)("td",{children:a})]})},K=c(50),W=c.n(K),Y=function(e){var t=e.devices,c=t&&t.map((function(e){return e.device}));return Object(v.jsx)(v.Fragment,{children:c?Object(v.jsx)(B,{styles:W.a,title:"Devices",th:["Id Device","OS Device","OS Version","Status","License Paired","License Selected"].map((function(e,t){return Object(v.jsx)("th",{children:e},t)})),td:c.map((function(e,t){return Object(v.jsx)(Z,{indexKey:e.idDevice,idDevice:e.idDevice,osDevice:e.osDevice,osVersion:e.osVersion,status:e.status,licensePaired:e.licensePaired,licenseSelected:e.licenseSelected},t.toString())}))}):Object(v.jsx)("div",{className:W.a.emptyContent,children:Object(v.jsx)("label",{children:o})})})},z=c(96),G=c(32),Q=c.n(G),H=function(e){return Object(v.jsx)("div",{onClick:e.handlerModal,className:Q.a.backdrop})},J=function(e){var t=e.keyContent,c=e.tag;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:e.styles.join(" "),children:[Object(v.jsx)(H,{handlerModal:e.handlerModal}),c&&Object(v.jsxs)("div",{className:"no-selection"===t||void 0===t?Q.a["modal-alert"]:Q.a.modal,children:[("no-selection"===t||void 0===t)&&Object(v.jsx)("h1",{children:e.title}),Object(v.jsx)("div",{style:{textAlign:"center"},children:e.content}),Object(v.jsx)("button",{className:Q.a.buttonModal,onClick:e.handlerModal,children:"Close"})]})]})})},X=c(57),q=c.n(X),$=function(e){var t=e.devices,c=t&&t.filter((function(e){return"eject"===e.device.status}));return Object(v.jsx)(v.Fragment,{children:f.a.isEmpty(c)?Object(v.jsx)("div",{children:"No liceses Found."}):Object(v.jsx)(B,{th:["Id Device","OS Device","OS Version","Status","License Paired","License Selected"].map((function(e,t){return Object(v.jsx)("th",{children:e},t)})),td:c.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.device.idDevice}),Object(v.jsx)("td",{children:e.device.osDevice}),Object(v.jsx)("td",{children:e.device.osVersion}),Object(v.jsx)("td",{children:e.device.status}),Object(v.jsx)("td",{children:e.device.licensePaired}),Object(v.jsx)("td",{children:e.device.licenseSelected})]},t)})),title:b,styles:q.a})})},ee=c(15),te=c.n(ee),ce=function(e){var t=Object(r.g)(),c=Object(n.useState)(),i=Object(d.a)(c,2),s=i[0],a=i[1],l=Object(n.useState)(),o=Object(d.a)(l,2),j=o[0],u=o[1],O=Object(n.useState)(),x=Object(d.a)(O,2),p=x[0],h=x[1],_=Object(n.useState)(),m=Object(d.a)(_,2),D=m[0],S=m[1],y=Object(n.useState)(),N=Object(d.a)(y,2),C=N[0],P=N[1],T=s?[te.a.modalLicenseRefused,te.a.open]:[te.a.modalLicenseRefused,te.a.closed],M=D?[te.a.modalAlert,te.a.open]:[te.a.modalAlert,te.a.closedModalAlert],A=function(e){P(e),S((function(e){return!e}))},I=function(){return a((function(e){return!e}))};return Object(n.useEffect)((function(){void 0===j&&L(u),void 0===j&&k(h)}),[j]),Object(v.jsxs)(g,{children:[Object(v.jsxs)("h1",{children:[" ","Licenses' Panel of "," ",void 0===e.userPanel?"(No User.)":e.userPanel," "]}),Object(v.jsx)(Y,{devices:p}),j&&!0!==f.a.isEmpty(j)?Object(v.jsx)(U,{devices:p,licenses:j,handlerModalAlert:A}):Object(v.jsx)("div",{children:Object(v.jsx)("p",{className:te.a.titleTablelicense,children:"  Load a CSV file for displaying and assign the license to the devices."})}),Object(v.jsx)("div",{className:te.a.containerButtonCSV,children:Object(v.jsxs)("label",{className:te.a.csvButton,children:["Load CSV",Object(v.jsx)("input",{className:te.a.buttonFile,type:"file",name:"Load CSV",onChange:function(e){w(e),setTimeout((function(){L(u),k(h)}),1e3)}})]})}),!f.a.isEmpty(j)&&Object(v.jsx)(z.a,{title:"Show liceses table ejected",onClick:I,children:Object(v.jsxs)("div",{className:te.a["circle-handle-table-refused"],children:[Object(v.jsx)("span",{className:te.a.lineLeft}),Object(v.jsx)("span",{className:te.a.lineRight})]})}),!f.a.isEmpty(j)&&Object(v.jsx)(z.a,{title:"Back to Page Login",onClick:function(){return t.push("/licensepanel-welcome")},children:Object(v.jsxs)("div",{className:te.a["circle-handle-back-login"],children:[Object(v.jsx)("span",{className:te.a["angle-bracket-1"]}),Object(v.jsx)("span",{className:"angle-bracket-2"})]})}),Object(v.jsx)(J,{tag:s,styles:T,content:Object(v.jsx)($,{devices:p,title:b}),handlerModal:I,keyContent:"table"}),Object(v.jsx)(J,{tag:D,styles:M,content:D&&("no-selection"===C.key2?C.textCombine:C.textSelected),handlerModal:A,keyContent:D&&C.key2,title:D&&C.title})]})},ne=function(){return Object(v.jsx)(v.Fragment,{})},ie=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),c=t[0],i=t[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(r.d,{children:[Object(v.jsx)(r.b,{path:"/",exact:!0,children:Object(v.jsx)(r.a,{to:"/licensepanel-welcome"})}),Object(v.jsx)(r.b,{path:"/licensepanel-welcome",children:Object(v.jsx)(h,{getUsername:function(e){return i(e)}})}),Object(v.jsx)(r.b,{path:"/panel",children:Object(v.jsx)(ce,{userPanel:c})}),Object(v.jsx)(r.b,{path:"/sampl",children:Object(v.jsx)(ne,{})})]})})};a.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(l.a,{children:Object(v.jsx)(ie,{})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.afb4d43b.chunk.js.map